# mugenwallpaper-demo2
A demo web wallpaper that shows system utilization

This is a demo web wallpaper created for [MuGen Wallpaper](https://www.mugenwallpaper.com). This demo aims to  demonstrate the way to consume the system information (CPU, RAM, Disk Space and Network usage) and screen index injected by MuGen Wallpaper.

You can use the github page link (https://dreaminghk.github.io/mugenwallpaper-demo2/demo.html) of the wallpaper directly in the app.

Click [here](https://dreaminghk.github.io/mugenwallpaper-demo2/demo.html) to see the demo

# Web integration guide for Mugen Wallpaper

This document explains how a web page running inside the appâ€™s WKWebView can consume:
- System metrics injected by the native app.
- Synthetic mousemove events generated by the app to keep hover/interaction responsive.
- The current screen index where the page is displayed.

No special setup is required on your page beyond adding event listeners.

## What the app injects

1) Synthetic mousemove events
The app does not pass through raw mouse events from the system. Instead, it synthesizes `mousemove` events on the `window` object, providing only the `clientX` and `clientY` coordinates. This allows web wallpapers to react to mouse position without full event propagation.

- Event type: "mousemove"
- Coordinates: `clientX`/`clientY` in CSS pixels, relative to the top-left of the viewport, matching standard browser semantics.

Example usage in JavaScript:
```javascript
window.addEventListener('mousemove', (event) => {
  const mouseX = event.clientX; // Mouse X coordinate
  const mouseY = event.clientY; // Mouse Y coordinate
  // Use mouseX and mouseY for your web wallpaper logic
  console.log(`Mouse X: ${mouseX}, Mouse Y: ${mouseY}`);
});
```

2) Native system metrics events
- Event type: "nativeMetrics" (CustomEvent)
- Dispatched on: window
- Frequency: ~1 time per second
- Payload (event.detail) shape:

```json
{
  "cpu": {
    "totalPercent": 0.0
  },
  "memory": {
    "totalBytes": 0,
    "freeBytes": 0,
    "usedBytes": 0
  },
  "disk": {
    "totalBytes": 0,
    "freeBytes": 0
  },
  "network": {
    "rxBytesPerSec": 0.0,
    "txBytesPerSec": 0.0
  },
  "screenIndex": 0
}
```

3) Screen index

### screenIndex

The `window.screenIndex` property indicates the index of the screen where the web wallpaper is currently displayed.
- `0`: Represents the primary or first screen.
- `1`: Represents the second screen.
- And so on for additional screens.

You can use this value to adjust your web wallpaper's content or layout based on which screen it's on.


# Attribution:

Cloud shader is created by ChatGPT and Codex with some adjustment.

Sky picture by Vedad Colic from [Pixel](https://www.pexels.com/photo/white-clothes-under-blue-sky-577279/)

Noto Sans JP font from [Google Fonts](https://fonts.google.com/noto/specimen/Noto+Sans+JP)

